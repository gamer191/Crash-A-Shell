on: [workflow_dispatch]
jobs:
  build:
    runs-on: macos-latest
    steps:
    - uses: actions/checkout@v4
    - run: |
        # -c for objects
        clang++ --std=c++17 -Wall config.cpp -c -o config.o

        clang --std=c20 -fno-objc-arc -framework Foundation -framework WebKit -isysroot `xcrun --show-sdk-path` chatgptcode.m config.o -o chatgptcode

        clang --std=c99 -Wall -fblocks testcall.m -c -o testcall.o
        clang --std=c99 -Wall hello.c config.o testcall.o -o hello
        ./chatgptcode
        echo SEPERATOR
        ./hello
        # clang -Wall hello.c -o hello && ./hello
        # clang -Wall -framework Foundation -isysroot `xcrun --show-sdk-path` fdn.m -o fdn && otool -L fdn
